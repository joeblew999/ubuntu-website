<svg xmlns="http://www.w3.org/2000/svg" width="560" height="520" viewBox="0 0 560 520">
  <!-- Publish: Single-source publishing visualization -->
  <!-- Markdown source → Multiple outputs → OCR capture → Database -->

  <!-- Background -->
  <rect width="560" height="520" fill="white"/>

  <!-- Left side: Markdown Source Document -->
  <g transform="translate(40, 80)">
    <!-- Document outline -->
    <rect x="0" y="0" width="120" height="160" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
    <!-- Document header -->
    <rect x="0" y="0" width="120" height="30" rx="4" fill="#ccc"/>
    <rect x="0" y="26" width="120" height="4" fill="#ccc"/>
    <!-- Markdown lines -->
    <text x="10" y="22" font-family="monospace" font-size="10" fill="#666"># Source.md</text>
    <rect x="10" y="45" width="60" height="3" fill="#999"/>
    <rect x="10" y="55" width="100" height="3" fill="#ccc"/>
    <rect x="10" y="65" width="80" height="3" fill="#ccc"/>
    <!-- Form field representation -->
    <rect x="10" y="85" width="100" height="20" rx="2" fill="white" stroke="#999" stroke-width="1"/>
    <text x="15" y="99" font-family="monospace" font-size="8" fill="#666">[field: name]</text>
    <rect x="10" y="115" width="100" height="20" rx="2" fill="white" stroke="#999" stroke-width="1"/>
    <text x="15" y="129" font-family="monospace" font-size="8" fill="#666">[field: email]</text>
    <!-- Label -->
    <text x="60" y="175" font-family="sans-serif" font-size="11" fill="#666" text-anchor="middle">Markdown + DSL</text>
  </g>

  <!-- Center: Flow arrows and transformation -->
  <g transform="translate(180, 120)">
    <!-- Arrow from source -->
    <path d="M 0 80 L 40 80" stroke="#999" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <!-- Transformation node -->
    <circle cx="60" cy="80" r="20" fill="#f5f5f5" stroke="#666" stroke-width="2"/>
    <text x="60" y="84" font-family="sans-serif" font-size="10" fill="#666" text-anchor="middle">→</text>
  </g>

  <!-- Right side: Multiple Outputs -->
  <g transform="translate(280, 40)">
    <!-- Web output -->
    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="100" height="70" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <!-- Browser chrome -->
      <rect x="0" y="0" width="100" height="15" rx="4" fill="#ccc"/>
      <circle cx="12" cy="7.5" r="3" fill="#999"/>
      <circle cx="24" cy="7.5" r="3" fill="#999"/>
      <circle cx="36" cy="7.5" r="3" fill="#999"/>
      <!-- Content -->
      <rect x="10" y="25" width="60" height="4" fill="#999"/>
      <rect x="10" y="35" width="80" height="3" fill="#ccc"/>
      <rect x="10" y="45" width="70" height="3" fill="#ccc"/>
      <rect x="10" y="55" width="50" height="8" rx="2" fill="#ccc" stroke="#999" stroke-width="1"/>
      <text x="50" y="82" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">Web</text>
    </g>

    <!-- PDF output -->
    <g transform="translate(120, 0)">
      <rect x="0" y="0" width="100" height="70" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <!-- PDF icon -->
      <rect x="35" y="8" width="30" height="40" fill="white" stroke="#999" stroke-width="1"/>
      <polygon points="55,8 65,18 65,8" fill="#ccc" stroke="#999" stroke-width="1"/>
      <rect x="40" y="25" width="20" height="2" fill="#ccc"/>
      <rect x="40" y="30" width="18" height="2" fill="#ccc"/>
      <rect x="40" y="35" width="20" height="2" fill="#ccc"/>
      <text x="50" y="60" font-family="sans-serif" font-size="8" fill="#999" text-anchor="middle">PDF</text>
      <text x="50" y="82" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">PDF</text>
    </g>

    <!-- Web Form output -->
    <g transform="translate(0, 100)">
      <rect x="0" y="0" width="100" height="70" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <!-- Form fields -->
      <rect x="10" y="15" width="80" height="12" rx="2" fill="white" stroke="#999" stroke-width="1"/>
      <rect x="10" y="32" width="80" height="12" rx="2" fill="white" stroke="#999" stroke-width="1"/>
      <rect x="10" y="49" width="40" height="14" rx="2" fill="#ccc" stroke="#999" stroke-width="1"/>
      <text x="30" y="60" font-family="sans-serif" font-size="8" fill="#666" text-anchor="middle">Submit</text>
      <text x="50" y="82" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">Web Form</text>
    </g>

    <!-- PDF Form output -->
    <g transform="translate(120, 100)">
      <rect x="0" y="0" width="100" height="70" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <!-- Fillable PDF -->
      <rect x="25" y="10" width="50" height="50" fill="white" stroke="#999" stroke-width="1"/>
      <rect x="30" y="18" width="40" height="8" rx="1" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
      <rect x="30" y="30" width="40" height="8" rx="1" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
      <rect x="30" y="42" width="40" height="8" rx="1" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
      <text x="50" y="82" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">PDF Form</text>
    </g>
  </g>

  <!-- Bottom: Capture flow back to database -->
  <g transform="translate(40, 320)">
    <!-- Scanned paper -->
    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="80" height="100" rx="2" fill="white" stroke="#999" stroke-width="2" transform="rotate(-5, 40, 50)"/>
      <!-- Handwritten marks -->
      <path d="M 15 30 Q 25 25, 55 30" stroke="#999" stroke-width="1" fill="none"/>
      <path d="M 15 50 Q 35 45, 60 50" stroke="#999" stroke-width="1" fill="none"/>
      <path d="M 15 70 Q 30 68, 50 70" stroke="#999" stroke-width="1" fill="none"/>
      <text x="40" y="120" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">Scanned</text>
    </g>

    <!-- OCR Arrow -->
    <g transform="translate(100, 40)">
      <path d="M 0 20 L 60 20" stroke="#999" stroke-width="2" fill="none"/>
      <polygon points="60,15 75,20 60,25" fill="#999"/>
      <text x="37" y="10" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">OCR</text>
    </g>

    <!-- Data extraction visualization -->
    <g transform="translate(190, 10)">
      <rect x="0" y="0" width="80" height="80" rx="4" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <!-- Data rows -->
      <rect x="10" y="15" width="60" height="15" fill="white" stroke="#ccc" stroke-width="1"/>
      <rect x="10" y="35" width="60" height="15" fill="white" stroke="#ccc" stroke-width="1"/>
      <rect x="10" y="55" width="60" height="15" fill="white" stroke="#ccc" stroke-width="1"/>
      <text x="40" y="100" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">Extracted</text>
    </g>

    <!-- Arrow to database -->
    <g transform="translate(285, 40)">
      <path d="M 0 20 L 50 20" stroke="#999" stroke-width="2" fill="none"/>
      <polygon points="50,15 65,20 50,25" fill="#999"/>
    </g>

    <!-- Database cylinder -->
    <g transform="translate(360, 0)">
      <ellipse cx="50" cy="15" rx="45" ry="15" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <rect x="5" y="15" width="90" height="60" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <ellipse cx="50" cy="75" rx="45" ry="15" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
      <ellipse cx="50" cy="15" rx="45" ry="15" fill="none" stroke="#999" stroke-width="2"/>
      <!-- Data lines inside -->
      <line x1="20" y1="35" x2="80" y2="35" stroke="#ccc" stroke-width="1"/>
      <line x1="20" y1="50" x2="80" y2="50" stroke="#ccc" stroke-width="1"/>
      <text x="50" y="105" font-family="sans-serif" font-size="9" fill="#666" text-anchor="middle">Database</text>
    </g>
  </g>

  <!-- Circular arrow showing full loop -->
  <g transform="translate(470, 200)">
    <path d="M 30 120 C 80 120, 80 -40, 30 -40" stroke="#ccc" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
    <polygon points="30,-45 20,-35 30,-30" fill="#ccc"/>
  </g>

  <!-- Connection lines from outputs down to capture -->
  <path d="M 380 210 L 380 280 L 270 280 L 270 330" stroke="#ccc" stroke-width="1" stroke-dasharray="4,2" fill="none"/>
  <path d="M 450 210 L 450 260 L 360 260 L 360 320" stroke="#ccc" stroke-width="1" stroke-dasharray="4,2" fill="none"/>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#999"/>
    </marker>
  </defs>

  <!-- Title label -->
  <text x="280" y="500" font-family="sans-serif" font-size="12" fill="#666" text-anchor="middle">Single Source → Multiple Outputs → Capture → Database</text>
</svg>
